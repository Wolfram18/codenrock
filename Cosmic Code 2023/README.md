# Cosmic Code 2023
Решение 15 задач на алгоритмы, связанных с освоением и развитием космоса, в рамках соревнования: "Cosmic Code 2023".  
*Ты сможешь самостоятельно рассчитать время полёта Гагарина на корабле «Восток», создать секретную космическую программу Советского Союза по запуску спутников, управлять межпланетным аппаратом «Луноход-1», создать симуляцию системы управления кораблем «СОЮЗ-1» и многое-многое другое.*  
<https://codenrock.com/contests/cosmic-code-2023/>

1. [Сортировка космонавтов](#сортировка-космонавтов-по-длительности-полета)
2. [Полет Гагарина](#время-полета-гагарина)
3. [Секретные спутники](#секретные-спутники)
4. [Контроль Луноход-1](#контроль-луноход-1)
5. [Спутник-балансировщик](#спутник-балансировщик)
6. [Восстановление спутниковых данных](#восстановление-спутниковых-данных)
7. [Синхронизация космических спутников](#синхронизация-космических-спутников)
8. [Количество успешных запусков](#количество-успешных-запусков)
9. [Испытания АМС «Луна-2»](#испытания-амс-луна-2)

## Сортировка космонавтов по длительности полета
### Задание
У вас есть список космонавтов Советского Союза с указанием длительности их космических полетов в днях. Ваша задача - написать программу, которая будет сортировать этот список по убыванию длительности полета.

**Входные данные:** На вход программе подается число N - количество космонавтов в списке; N строк, каждая из которых содержит имя космонавта и длительность его полета в днях (целое число)  
**Пример входных данных:**  
3  
Yuri Gagarin 1  
Valentina Tereshkova 3  
Alexei Leonov 4  
**Выходные данные:** Программа должна вывести отсортированный список космонавтов по убыванию длительности полета  
**Пример выходных данных:**  
Alexei Leonov 4  
Valentina Tereshkova 3  
Yuri Gagarin 1  

### Код (astronaut_sorting.py)
```python
def insertion_sort(array):
    for step in range(1, len(array)):
        current = step
        for i in range(step-1, -1, -1):
            if int(array[current][2]) > int(array[i][2]):
                array[current], array[i] = array[i], array[current]
                current = i
    return array

def main():
    number = int(input())
    cosmonauts = []
    for n in range(number): 
        cosmonauts.append(input().split())
    insertion_sort(cosmonauts)
    cosmonauts = [' '.join(item) for item in cosmonauts]
    for cosmonaut in cosmonauts: 
        print(cosmonaut)
 
if __name__ == "__main__":
    main()
```

## Время полета Гагарина
### Задание
12 апреля 1961 года Советский Союз совершил первый пилотируемый космический полет на корабле "Восток" с Юрием Гагариным на борту. Полет длился 108 минут. Ваша задача - написать программу, которая будет определять время возврата космонавта на Землю, если известно время его старта.  

**Входные данные:** Ввод состоит из двух чисел h и m (0 ≤ h ≤ 23; 0 ≤ m ≤ 59) - час и минута старта "Восток" с Юрием Гагариным на борту  
**Пример входных данных:** 9 7  
**Выходные данные:** Выведите два числа - час и минуту возвращения "Восток" на Землю  
**Пример выходных данных:** 10 55  

### Код (flight_time.py)
```python
def get_landing_time(h,m):
    h = (h + 1 + (m + 48) // 60) % 24
    m = (m + 48) % 60
    return h, m

def main():
    h, m = input().split()
    h, m = get_landing_time(int(h),int(m))
    print(h, m)

if __name__ == "__main__":
    main()
```

## Секретные спутники
### Задание
Секретная космическая программа Советского Союза запускает спутники для исследования космоса. Вам необходимо создать программу, которая будет определять, сколько спутников можно запустить в космос на основе заданных параметров. Для каждого спутника известны его масса и объем. Ракета-носитель может вывести определенную максимальную массу и объем в космос. Необходимо определить, сколько спутников можно запустить в один полет, чтобы не превысить грузоподъемность и объем ракеты-носителя.  

**Входные данные:**  В первой строке два числа M и V  - максимальная грузоподъемность и объем ракеты-носителя; во второй строке число N (1 <= N <= 1000) - количество спутников; далее N строк, содержащих два числа m и v (1 <= m, v <= 10000) - масса и объем каждого спутника  
**Пример входных данных:**  
1000 1000  
4  
250 250  
300 300  
350 350  
200 200  
**Выходные данные:** Выведите одно число - максимальное количество спутников, которые могут быть запущены одновременно  
**Пример выходных данных:** 3  

### Код (secret_satellites.py)
```python
def selection_sort(array, M_or_V):
    for step in range(len(array)-1):
        for i in range(step, len(array)-1):
            if array[step][M_or_V] > array[i+1][M_or_V]:           
                array[step], array[i+1] = array[i+1], array[step]
    return array

def get_max_count(satellites, max_M, max_V, M_or_V):
    satellites = selection_sort(satellites, M_or_V)
    current_M, current_V, count = 0, 0, 0
    while (current_M < max_M and current_V < max_V and count < len(satellites)):
        current_M += satellites[count][0]
        current_V += satellites[count][1]
        count += 1
    return count - 1

def main():
    max_M, max_V = input().split()
    number = int(input())
    satellites = []
    for n in range(number):
        satellites.append(input().split())
    satellites = [[int(item[0]),int(item[1])] for item in satellites] 
    count_M = get_max_count(satellites, int(max_M), int(max_V), 0)
    count_V = get_max_count(satellites, int(max_M), int(max_V), 1)
    print(max(count_M, count_V))

if __name__ == "__main__":
    main()
```

## Контроль Луноход-1
### Задание
Вы - инженер, который управляет Луноход-1 на Луне. Вы получили задание проверить, работает ли Луноход-1 должным образом, и установить, сколько времени займет ему проехать определенное расстояние. Луноход-1 передвигается на расстояние X километров за земной день, но может двигаться только в светлое время суток на Луне. Дни на Луне имеют длительность 29,5 земных суток, и периоды дневного и ночного времени меняются в зависимости от фаз Луны. Фаза Луны влияет на продолжительность дня и ночи на Луне. В полнолуние день длится 14,75 земных суток, а ночь - 14,75 земных суток. В новолуние день длится 0 земных суток, а ночь - 29,5 земных суток. В первой и последней четверти день и ночь длится по 7,375 земных суток. Фазы Луны остаются неизменными на протяжении всего маршрута Лунохода-1. Для вашего теста Луноход-1 начнет движение с наступлением дня на Луне. Напишите программу, которая принимает расстояние X в километрах, скорость Лунохода-1 в километрах за земной день и фазу Луны (полная, новолуние, первая четверть, последняя четверть) в виде чисел от 1 до 4. Программа должна определить, сколько земных дней займет Луноходу-1 проехать расстояние X километров, и вывести это число на экран.

**Входные данные:** расстояние X в километрах; скорость Лунохода-1 в километрах в день; фаза Луны (полная, новолуние, первая четверть, последняя четверть) в виде чисел от 1 до 4  
**Пример входных данных:**  
500  
50  
3  
**Выходные данные:** количество дней, за которое Луноход-1 пройдет расстояние X  
**Пример выходных данных:** Луноход-1 проедет 500.0 км за 18 дней.  
**Пояснение к ответу из примера:** в данном примере Луноход-1 должен проехать 500 км со скоростью 50 км/земной день. Фаза Луны выбрана "первая четверть", что означает, что Луноход-1 может двигаться только в течение 7,375 земных суток (светлое время суток на Луне). С наступлением следующего светлого времени суток на Луне (через 7,375 земных суток ночи), Луноход-1 продолжит движение.

### Код (lunokhod-control.py)
```python
import math

def get_daytime(phase):
    if phase == 1:
        return 14.75
    elif phase == 2:
        return 0 # ambiguously
    elif phase == 3 or phase == 4:
        return 7.375

def main():
    S = int(input())
    V = int(input())
    phase = int(input())
    phase = get_daytime(phase)
    count = S/V + S/V//phase*phase 
    print(f"Луноход-1 проедет {S:.1f} км за {math.ceil(count)} дней")
 
if __name__ == "__main__":
    main()
```

## Спутник-балансировщик
### Задание
В 60-х годах XX века советские инженеры разрабатывали спутники, предназначенные для исследования космического пространства и осуществления связи между Землёй и космическими кораблями. Одной из важных задач при проектировании спутников была задача по поддержанию их стабильного положения на орбите. Ваша задача состоит в том, чтобы написать программу, которая получает на вход параметры орбиты, а также массу и координаты спутника и космических кораблей, после чего определяет оптимальное положение спутника для связи с кораблями и выводит его координаты на экран.

**Входные данные:** первая строка содержит число N  - количество космических кораблей; вторая строка содержит N троек чисел x_i, y_i, m_i (0 <= x_i, y_i <= 1000, 1 <= m_i <= 100), где x_i и y_i - это координаты i-го космического корабля, а m_i - его масса; все числа целые и разделены пробелами  
**Пример входных данных:**  
4  
120 80 40  
250 180 80  
360 480 100  
400 300 120  
**Выходные данные:** программа должна вывести два числа x и y - оптимальное положение спутника с точностью до 2 знаков после запятой  
**Пример выходных данных:** 320.00 298.82  

### Код (balancer-satellite.py)
```python
def get_system_mass(array):
    return sum(int(i[2]) for i in array)

def get_balanced_coordinate(m, array, idx):
    return sum(int(i[idx])*int(i[2]) for i in array)/m

def main():
    number = int(input())
    satellites = []
    for _ in range(number): 
        satellites.append(input().split())
    m = get_system_mass(satellites)
    x = get_balanced_coordinate(m, satellites, 0)
    y = get_balanced_coordinate(m, satellites, 1)
    print(f"{x:.2f} {y:.2f}")
 
if __name__ == "__main__":
    main()
```

## Восстановление спутниковых данных
### Задание
Когда-то СССР запустил спутник в космос, который транслировал данные на Землю. К сожалению, из-за технических проблем, спутник теперь передает данные с ошибками, поэтому вам нужно написать программу по восставлению оригинальных данных. Данные транслируются в виде последовательности чисел, разделенных пробелами. Вы знаете, что спутник передает данные о своей высоте (в км) и скорости (в км/ч). Каждый блок данных состоит из двух чисел: высоты и скорости. Известно, что оригинальные данные были представлены в виде возрастающей последовательности. Вам необходимо восстановить оригинальные данные, удалив минимальное количество чисел из последовательности.

**Входные данные:** первая строка содержит одно целое число n (2 ≤ n ≤ 1000) — количество блоков данных; следующие n строк содержат по два целых числа ai и bi — высота и скорость спутника  
**Пример входных данных:**    
4  
1 2  
2 1  
3 4  
4 3  
**Выходные данные:** выведите одно число — минимальное количество чисел, которое нужно удалить, чтобы восстановить оригинальную последовательность  
**Пример выходных данных:** 2  

### Код (data-recovery.py)
```python
def get_length_of_LIS(array, number):
    din, pos = [0]*number, [0]*number
    for i in range(number):
        din[i] = 1
        pos[i] = -1
        for j in range(i):
            if array[i] > array[j]:
                if 1 + din[j] > din[i]:
                    din[i] = 1 + din[j]
                    pos[i] = j
    return din, pos

def position_of_LIS(din, pos, number):
    correct = set()
    max_len, idx_max_len = din[0], 0
    for i in range(number):
        if din[i] > max_len:
            max_len = din[i]
            idx_max_len = i
    correct.add(idx_max_len)
    for i in range(max_len - 1):
        correct.add(pos[idx_max_len])
        idx_max_len = pos[idx_max_len]
    return correct

def main():
    number = int(input())
    data = []
    for _ in range(number):
        data.append(input().split())
    data = [[int(item[0]),int(item[1])] for item in data]
    a, b = list(zip(*data))
    din_a, pos_a = get_length_of_LIS(a, number)
    correct_a = position_of_LIS(din_a, pos_a, number)
    din_b, pos_b = get_length_of_LIS(b, number)
    correct_b = position_of_LIS(din_b, pos_b, number)
    print(number - len(correct_a & correct_b))

if __name__ == "__main__":
    main()
```

## Синхронизация космических спутников
### Задание
Вы - командир наземной станции, отслеживающей спутники Советского Союза. Ваша задача - отслеживать спутники и получать данные с них. Каждый спутник передает свои данные с определенной частотой и в определенное время. Вам нужно разработать программу, которая определит, какие спутники будут передавать данные одновременно, чтобы наземная станция могла синхронизироваться с ними.

**Входные данные:** в первой строке подается число N (1 <= N <= 100) - количество спутников; далее следует N строк, содержащих два числа: T и F (1 <= T, F <= 10^9), время начала передачи данных и частоту передачи данных для каждого спутника  
**Пример входных данных:**    
5  
1 15  
1 45  
1 75  
1 30  
1 90  
**Выходные данные:** выведите число K - количество спутников, которые будут передавать данные одновременно; далее выведите K чисел - идентификаторы спутников (нумерация начинается с 1), которые будут передавать данные одновременно  
**Пример выходных данных:**  
10  
1 2  
1 3  
1 4  
1 5  
2 3  
2 4  
2 5  
3 4  
3 5  
4 5  

### Код (synch-satellites.py)
```python
def get_list_of_simultaneous(data, number):
    simultaneous = []
    for i in range(number - 1):
        for j in range(i, number):
            if data[i][0] == data[j][0] and \
            data[i][1] != data[j][1]:
                simultaneous.append([i+1,j+1])
    return simultaneous

def main():
    number = int(input())
    data = []
    for _ in range(number):
        data.append(input().split())
    data = [[int(item[0]), int(item[1])] for item in data]
    simultaneous = get_list_of_simultaneous(data, number)
    print(len(simultaneous))
    for item in simultaneous:
        print(item[0], item[1])
    
if __name__ == "__main__":
    main()
```

## Количество успешных запусков
### Задание
Вам предстоит разработать алгоритм, который будет анализировать исторические данные о запусках ракет советской космической программы и выводить информацию о самых успешных периодах.

**Входные данные:** N (1 ≤ N ≤ 1000) - количество запусков ракет в вашем распоряжении; далее N строк, каждая из которых содержит 2 числа: Y (1957 ≤ Y ≤ 1991) - год запуска ракеты и S (0 ≤ S ≤ 100) - успешность запуска в процентах (0 - полный провал, 100 - полный успех)  
**Пример входных данных:**    
5  
1961 100  
1961 50  
1969 100  
1969 80  
1971 70  
**Выходные данные:** год, в котором была достигнута наивысшая средняя успешность запусков ракет. В случае нескольких лет с одинаковой успешностью, выведите наименьший из них  
**Пример выходных данных:** 1969  

### Код (number-of-successes.py)
```python
def get_max_success_year(data):
    dict_success = {}
    dict_count = {}
    for item in data:
        if item[0] in dict_success:
            dict_success[item[0]] += item[1]
            dict_count[item[0]] += 1
        else:
            dict_success[item[0]] = item[1]
            dict_count[item[0]] = 1
    for item in dict_success:
        dict_success[item] = dict_success[item]/dict_count[item]
    return max(dict_success, key=dict_success.get)

def main():
    number = int(input())
    data = []
    for _ in range(number):
        data.append(input().split())
    data = [[int(item[0]), int(item[1])] for item in data]
    print(get_max_success_year(data))

if __name__ == "__main__":
    main()
```

## Испытания АМС «Луна-2»
### Задание
Советский Союз собирается запустить на Луну аппарат «Луна-2» и решил провести серию испытаний перед реальным запуском. Они хотят определить наиболее оптимальный маршрут для достижения Луны, чтобы использовать минимальное количество топлива. Ваша задача - написать программу, которая поможет определить оптимальный маршрут.

**Входные данные:** первая строка содержит два числа n (2 ≤ n ≤ 1000) и m (1 ≤ m ≤ 100000) - количество планет и количество маршрутов между ними; затем следуют m строк, каждая содержит три числа ai, bi и ci (1 ≤ ai, bi ≤ n; ai ≠ bi; 1 ≤ ci ≤ 10000), где ai и bi - номера планет, между которыми есть маршрут, и ci - стоимость топлива для прохождения маршрута. Планеты пронумерованы от 1 до n. Земля имеет номер 1, а Луна - номер n  
**Пример входных данных:**  
4 4  
1 2 10  
1 3 20  
2 4 30  
3 4 40  
**Выходные данные:** выведите одно число - минимальную стоимость топлива для достижения Луны  
**Пример выходных данных:** 40 (Наименьшая стоимость топлива достигается маршрутом 1 → 2 → 4).

### Код (luna-2-ais-testing.py)
```python

```

## 
